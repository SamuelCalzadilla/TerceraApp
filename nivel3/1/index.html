<!DOCTYPE html><html lang="en" data-beasties-container><head>
  <meta charset="utf-8">
  <title>TeceraApp</title>
  <base href="/TerceraApp/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles-5INURTSO.css"><style ng-app-id="ng">.background[_ngcontent-ng-c476121998]{position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(337deg,#c3c2e8,#d7d6f0,#ebeaf7,#fff);z-index:-1}.content-wrapper[_ngcontent-ng-c476121998]{margin:20px 70px 20px 270px;max-width:calc(100% - 270px);background-color:#fff;border-radius:16px;box-shadow:0 4px 8px #0003;padding:20px}.home-content[_ngcontent-ng-c476121998]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:16px;color:#333}.tutorial-page[_ngcontent-ng-c476121998]   h1[_ngcontent-ng-c476121998]{color:red}.tutorial-page[_ngcontent-ng-c476121998]   h1[_ngcontent-ng-c476121998], h2[_ngcontent-ng-c476121998], h3[_ngcontent-ng-c476121998]{color:#2c3e50}.tutorial-page[_ngcontent-ng-c476121998]   a[_ngcontent-ng-c476121998]{color:#2980b9;text-decoration:none}.tutorial-page[_ngcontent-ng-c476121998]   a[_ngcontent-ng-c476121998]:hover{text-decoration:underline}.tutorial-page[_ngcontent-ng-c476121998]   nav[_ngcontent-ng-c476121998]{margin-top:20px}.tutorial-page[_ngcontent-ng-c476121998]   pre[_ngcontent-ng-c476121998]{background-color:#ecf0f1;padding:10px;border-radius:5px;overflow-x:auto}.tutorial-page[_ngcontent-ng-c476121998]   ul[_ngcontent-ng-c476121998], ol[_ngcontent-ng-c476121998]{margin-left:20px}.tutorial-page[_ngcontent-ng-c476121998]   small[_ngcontent-ng-c476121998]{color:#e74c3c}.tutorial-page[_ngcontent-ng-c476121998]   button[_ngcontent-ng-c476121998]{padding:10px 15px;background-color:#2980b9;color:#fff;border:none;border-radius:3px;cursor:pointer}.tutorial-page[_ngcontent-ng-c476121998]   button[_ngcontent-ng-c476121998]:hover{background-color:#1f6391}.tutorial-page[_ngcontent-ng-c476121998]   input[_ngcontent-ng-c476121998], textarea[_ngcontent-ng-c476121998]{width:100%;padding:8px;margin:5px 0 10px;box-sizing:border-box}.tutorial-page[_ngcontent-ng-c476121998]   label[_ngcontent-ng-c476121998]{font-weight:700}.tutorial-page[_ngcontent-ng-c476121998]   .destacado[_ngcontent-ng-c476121998]{background-color:#f1c40f;padding:10px;border-radius:5px}</style><style ng-app-id="ng">nav[_ngcontent-ng-c89040228]{position:fixed;top:0;left:0;width:250px;height:100%;background-image:linear-gradient(337deg,#9692f6,#bcb5fa,#ded9fd,#fff);color:#fff;display:flex;flex-direction:column;padding:10px 0;box-shadow:2px 0 5px #0000004d;z-index:1}.side-menu[_ngcontent-ng-c89040228]{width:250px;background-color:#f4f4f4;padding:10px;border-right:1px solid #ccc}.side-menu[_ngcontent-ng-c89040228]   h3[_ngcontent-ng-c89040228]{margin-top:20px;font-size:16px;color:#333}.side-menu[_ngcontent-ng-c89040228]   ul[_ngcontent-ng-c89040228]{list-style-type:none;padding:0}.side-menu[_ngcontent-ng-c89040228]   li[_ngcontent-ng-c89040228]{margin:5px 0}.side-menu[_ngcontent-ng-c89040228]   a[_ngcontent-ng-c89040228]{text-decoration:none;color:#007bff}.side-menu[_ngcontent-ng-c89040228]   a[_ngcontent-ng-c89040228]:hover{text-decoration:underline}.active-link[_ngcontent-ng-c89040228]{color:#007bff;text-decoration:underline}</style><style ng-app-id="ng">.scroll-to-top[_ngcontent-ng-c3705416393]{position:fixed;top:20px;right:20px;z-index:1000;background-color:#007bff;color:#fff;border:none;border-radius:50%;padding:10px;font-size:18px;cursor:pointer}.scroll-to-top[_ngcontent-ng-c3705416393]:hover{background-color:#0056b3}</style><style ng-app-id="ng">.scroll-to-bottom[_ngcontent-ng-c331511147]{position:fixed;bottom:20px;right:20px;z-index:1000;background-color:#007bff;color:#fff;border:none;border-radius:50%;padding:10px;font-size:18px;cursor:pointer}.scroll-to-bottom[_ngcontent-ng-c331511147]:hover{background-color:#0056b3}</style><style ng-app-id="ng">.background[_ngcontent-ng-c2974094693]{position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(337deg,#c3c2e8,#d7d6f0,#ebeaf7,#fff);z-index:-1}.content-wrapper[_ngcontent-ng-c2974094693]{margin:20px 70px 20px 270px;max-width:calc(100% - 270px);background-color:#fff;border-radius:16px;box-shadow:0 4px 8px #0003;padding:20px}.home-content[_ngcontent-ng-c2974094693]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:16px;color:#333}.tutorial-page[_ngcontent-ng-c2974094693]   h1[_ngcontent-ng-c2974094693]{color:red}.tutorial-page[_ngcontent-ng-c2974094693]   h1[_ngcontent-ng-c2974094693], h2[_ngcontent-ng-c2974094693], h3[_ngcontent-ng-c2974094693]{color:#2c3e50}.tutorial-page[_ngcontent-ng-c2974094693]   a[_ngcontent-ng-c2974094693]{color:#2980b9;text-decoration:none}.tutorial-page[_ngcontent-ng-c2974094693]   a[_ngcontent-ng-c2974094693]:hover{text-decoration:underline}.tutorial-page[_ngcontent-ng-c2974094693]   nav[_ngcontent-ng-c2974094693]{margin-top:20px}.tutorial-page[_ngcontent-ng-c2974094693]   pre[_ngcontent-ng-c2974094693]{background-color:#ecf0f1;padding:10px;border-radius:5px;overflow-x:auto}.tutorial-page[_ngcontent-ng-c2974094693]   ul[_ngcontent-ng-c2974094693], ol[_ngcontent-ng-c2974094693]{margin-left:20px}.tutorial-page[_ngcontent-ng-c2974094693]   small[_ngcontent-ng-c2974094693]{color:#e74c3c}.tutorial-page[_ngcontent-ng-c2974094693]   button[_ngcontent-ng-c2974094693]{padding:10px 15px;background-color:#2980b9;color:#fff;border:none;border-radius:3px;cursor:pointer}.tutorial-page[_ngcontent-ng-c2974094693]   button[_ngcontent-ng-c2974094693]:hover{background-color:#1f6391}.tutorial-page[_ngcontent-ng-c2974094693]   input[_ngcontent-ng-c2974094693], textarea[_ngcontent-ng-c2974094693]{width:100%;padding:8px;margin:5px 0 10px;box-sizing:border-box}.tutorial-page[_ngcontent-ng-c2974094693]   label[_ngcontent-ng-c2974094693]{font-weight:700}.tutorial-page[_ngcontent-ng-c2974094693]   .destacado[_ngcontent-ng-c2974094693]{background-color:#f1c40f;padding:10px;border-radius:5px}</style></head>
<body><!--nghm--><script type="text/javascript" id="ng-event-dispatch-contract">(()=>{function p(t,n,r,o,e,i,f,m){return{eventType:t,event:n,targetElement:r,eic:o,timeStamp:e,eia:i,eirp:f,eiack:m}}function u(t){let n=[],r=e=>{n.push(e)};return{c:t,q:n,et:[],etc:[],d:r,h:e=>{r(p(e.type,e,e.target,t,Date.now()))}}}function s(t,n,r){for(let o=0;o<n.length;o++){let e=n[o];(r?t.etc:t.et).push(e),t.c.addEventListener(e,t.h,r)}}function c(t,n,r,o,e=window){let i=u(t);e._ejsas||(e._ejsas={}),e._ejsas[n]=i,s(i,r),s(i,o,!0)}window.__jsaction_bootstrap=c;})();
</script><script>window.__jsaction_bootstrap(document.body,"ng",["click"],[]);</script>
  <app-root _nghost-ng-c476121998 ng-version="19.0.4" ngh="3" ng-server-context="ssg"><div _ngcontent-ng-c476121998 class="app-container"><div _ngcontent-ng-c476121998 class="content-wrapper"><div _ngcontent-ng-c476121998 class="background"></div><app-side-menu _ngcontent-ng-c476121998 _nghost-ng-c89040228 ngh="0"><nav _ngcontent-ng-c89040228><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/intro" routerlinkactive="active-link" href="/TerceraApp/nivel1/intro" class jsaction="click:;">Nivel Principiante</a><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/1" routerlinkactive="active-link" href="/TerceraApp/nivel1/1" class jsaction="click:;">Historia de Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/2" routerlinkactive="active-link" href="/TerceraApp/nivel1/2" class jsaction="click:;">Instalación de Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/3" routerlinkactive="active-link" href="/TerceraApp/nivel1/3" class jsaction="click:;">Creación de un Proyecto Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/4" routerlinkactive="active-link" href="/TerceraApp/nivel1/4" class jsaction="click:;">Estructura de un Proyecto Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/5" routerlinkactive="active-link" href="/TerceraApp/nivel1/5" class jsaction="click:;">Primer Componente en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel1/6" routerlinkactive="active-link" href="/TerceraApp/nivel1/6" class jsaction="click:;">Binding de Datos en Angular</a></li></ul></li><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/intro" routerlinkactive="active-link" href="/TerceraApp/nivel2/intro" class jsaction="click:;">Nivel Intermedio</a><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/1" routerlinkactive="active-link" href="/TerceraApp/nivel2/1" class jsaction="click:;">Servicios y Dependencias en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/2" routerlinkactive="active-link" href="/TerceraApp/nivel2/2" class jsaction="click:;">Rutas en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/3" routerlinkactive="active-link" href="/TerceraApp/nivel2/3" class jsaction="click:;">Comunicación entre Componentes</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/4" routerlinkactive="active-link" href="/TerceraApp/nivel2/4" class jsaction="click:;">Consumo de APIs con HttpClient</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/5" routerlinkactive="active-link" href="/TerceraApp/nivel2/5" class jsaction="click:;">Formularios en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/6" routerlinkactive="active-link" href="/TerceraApp/nivel2/6" class jsaction="click:;">Directivas en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel2/7" routerlinkactive="active-link" href="/TerceraApp/nivel2/7" class jsaction="click:;">Pipes en Angular</a></li></ul></li><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/intro" routerlinkactive="active-link" href="/TerceraApp/nivel3/intro" class jsaction="click:;">Nivel Avanzado</a><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/1" routerlinkactive="active-link" href="/TerceraApp/nivel3/1" class="active-link" jsaction="click:;">Gestión de Estado con NgRx</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/2" routerlinkactive="active-link" href="/TerceraApp/nivel3/2" class jsaction="click:;">Testing en Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/3" routerlinkactive="active-link" href="/TerceraApp/nivel3/3" class jsaction="click:;">Optimización y Desempeño</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/4" routerlinkactive="active-link" href="/TerceraApp/nivel3/4" class jsaction="click:;">Autenticación y Autorización</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/5" routerlinkactive="active-link" href="/TerceraApp/nivel3/5" class jsaction="click:;">Despliegue de Aplicaciones Angular</a></li></ul><ul _ngcontent-ng-c89040228><li _ngcontent-ng-c89040228><a _ngcontent-ng-c89040228 routerlink="/nivel3/6" routerlinkactive="active-link" href="/TerceraApp/nivel3/6" class jsaction="click:;">Migración y Actualización de Angular</a></li></ul></li></ul></nav></app-side-menu><router-outlet _ngcontent-ng-c476121998></router-outlet><app-nivel3-1 _nghost-ng-c2974094693 ngh="0"><div _ngcontent-ng-c2974094693 class="tutorial-page"><h1 _ngcontent-ng-c2974094693>Gestión de Estado con NgRx</h1><p _ngcontent-ng-c2974094693>En aplicaciones Angular grandes y complejas, la gestión del estado puede convertirse en un desafío. NgRx es una biblioteca que implementa el patrón de arquitectura Redux, proporcionando una manera estructurada y predecible de manejar el estado de la aplicación.</p><h2 _ngcontent-ng-c2974094693>¿Qué es NgRx?</h2><p _ngcontent-ng-c2974094693>NgRx es una colección de bibliotecas inspiradas en Redux, que facilita la gestión del estado reactivo en aplicaciones Angular. Utiliza un almacén centralizado para mantener el estado de la aplicación, lo que mejora la predictibilidad y facilita la depuración.</p><h2 _ngcontent-ng-c2974094693>Componentes Clave de NgRx</h2><ul _ngcontent-ng-c2974094693><li _ngcontent-ng-c2974094693><strong _ngcontent-ng-c2974094693>Store:</strong> Almacén centralizado que mantiene el estado de la aplicación.</li><li _ngcontent-ng-c2974094693><strong _ngcontent-ng-c2974094693>Actions:</strong> Eventos que describen una intención de cambiar el estado.</li><li _ngcontent-ng-c2974094693><strong _ngcontent-ng-c2974094693>Reducers:</strong> Funciones puras que determinan cómo el estado cambia en respuesta a una acción.</li><li _ngcontent-ng-c2974094693><strong _ngcontent-ng-c2974094693>Selectors:</strong> Funciones que extraen piezas específicas del estado.</li><li _ngcontent-ng-c2974094693><strong _ngcontent-ng-c2974094693>Effects:</strong> Manejan operaciones asíncronas y efectos secundarios.</li></ul><h2 _ngcontent-ng-c2974094693>Instalación de NgRx</h2><p _ngcontent-ng-c2974094693>Para comenzar a usar NgRx en tu proyecto Angular, instala las siguientes dependencias:</p><pre _ngcontent-ng-c2974094693>npm install @ngrx/store @ngrx/effects @ngrx/store-devtools --save
    </pre><h2 _ngcontent-ng-c2974094693>Configurando el Store</h2><p _ngcontent-ng-c2974094693>Vamos a configurar el Store de NgRx para manejar el estado de posts en nuestra aplicación.</p><h3 _ngcontent-ng-c2974094693>1. Definir el Estado</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>src/app/state/post.state.ts</code>, define la interfaz del estado y el estado inicial:</p><pre _ngcontent-ng-c2974094693>        export interface PostState {
  posts: any[];
  loading: boolean;
  error: string | null;
}

export const initialPostState: PostState = {
  posts: [],
  loading: false,
  error: null
};
    </pre><h3 _ngcontent-ng-c2974094693>2. Definir Acciones</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>src/app/state/post.actions.ts</code>, define las acciones relacionadas con los posts:</p><pre _ngcontent-ng-c2974094693>        import { createAction, props } from '@ngrx/store';

export const cargarPosts = createAction('[Post] Cargar Posts');
export const cargarPostsSuccess = createAction('[Post] Cargar Posts Success', props&lt;{ posts: any[] }&gt;());
export const cargarPostsFailure = createAction('[Post] Cargar Posts Failure', props&lt;{ error: string }&gt;());

    </pre><h3 _ngcontent-ng-c2974094693>3. Crear Reducer</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>src/app/state/post.reducer.ts</code>, crea el reducer para manejar las acciones:</p><pre _ngcontent-ng-c2974094693>        import { createReducer, on } from '@ngrx/store';
import { cargarPosts, cargarPostsSuccess, cargarPostsFailure } from './post.actions';
import { PostState, initialPostState } from './post.state';

export const postReducer = createReducer(
  initialPostState,
  on(cargarPosts, state =&gt; ({ ...state, loading: true })),
  on(cargarPostsSuccess, (state, { posts }) =&gt; ({ ...state, posts, loading: false })),
  on(cargarPostsFailure, (state, { error }) =&gt; ({ ...state, error, loading: false }))
);
    </pre><h3 _ngcontent-ng-c2974094693>4. Configurar el Store en el Módulo</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>app.module.ts</code>, importa <code _ngcontent-ng-c2974094693>StoreModule</code> y configura el reducer:</p><pre _ngcontent-ng-c2974094693>        import { StoreModule } from '@ngrx/store';
import { postReducer } from './state/post.reducer';
import { StoreDevtoolsModule } from '@ngrx/store-devtools';
import { environment } from '../environments/environment';

@NgModule({
  imports: [
    BrowserModule,
    FormsModule,
    ReactiveFormsModule,
    RouterModule.forRoot(routes),
    HttpClientModule,
    StoreModule.forRoot({ postState: postReducer }),
    StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production })
  ],
  // ... otros códigos
})
export class AppModule { }
    </pre><p _ngcontent-ng-c2974094693>Esto configura el Store con el estado <code _ngcontent-ng-c2974094693>postState</code> gestionado por <code _ngcontent-ng-c2974094693>postReducer</code> y habilita las herramientas de desarrollo de NgRx.</p><h3 _ngcontent-ng-c2974094693>5. Definir Selectors</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>src/app/state/post.selectors.ts</code>, define selectors para acceder al estado:</p><pre _ngcontent-ng-c2974094693>        import { createSelector, createFeatureSelector } from '@ngrx/store';
import { PostState } from './post.state';

export const selectPostState = createFeatureSelector&lt;PostState&gt;('postState');

export const selectAllPosts = createSelector(
  selectPostState,
  (state: PostState) =&gt; state.posts
);

export const selectLoading = createSelector(
  selectPostState,
  (state: PostState) =&gt; state.loading
);

export const selectError = createSelector(
  selectPostState,
  (state: PostState) =&gt; state.error
);
    </pre><h3 _ngcontent-ng-c2974094693>6. Implementar Effects para Manejar Asincronía</h3><p _ngcontent-ng-c2974094693>NgRx Effects permite manejar operaciones asíncronas como llamadas a APIs.</p><h4 _ngcontent-ng-c2974094693>Generando el Effect</h4><pre _ngcontent-ng-c2974094693>ng generate effect post --group
    </pre><h4 _ngcontent-ng-c2974094693>Implementando el Effect</h4><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>src/app/state/post.effects.ts</code>, implementa el efecto para cargar posts:</p><pre _ngcontent-ng-c2974094693>        import { Injectable } from '@angular/core';
import { Actions, createEffect, ofType } from '@ngrx/effects';
import { ApiService } from '../api.service';
import { cargarPosts, cargarPostsSuccess, cargarPostsFailure } from './post.actions';
import { mergeMap, map, catchError } from 'rxjs/operators';
import { of } from 'rxjs';

@Injectable()
export class PostEffects {

  cargarPosts$ = createEffect(() =&gt; this.actions$.pipe(
    ofType(cargarPosts),
    mergeMap(() =&gt; this.apiService.obtenerPosts()
      .pipe(
        map(posts =&gt; cargarPostsSuccess({ posts })),
        catchError(error =&gt; of(cargarPostsFailure({ error })))
      ))
    )
  );

  constructor(
    private actions$: Actions,
    private apiService: ApiService
  ) {}
}
    </pre><p _ngcontent-ng-c2974094693>Este efecto escucha la acción <code _ngcontent-ng-c2974094693>cargarPosts</code>, realiza una solicitud para obtener los posts y luego emite una acción de éxito o fallo según corresponda.</p><h3 _ngcontent-ng-c2974094693>7. Registrar los Effects en el Módulo</h3><p _ngcontent-ng-c2974094693>En <code _ngcontent-ng-c2974094693>app.module.ts</code>, importa <code _ngcontent-ng-c2974094693>EffectsModule</code> y registra el effect:</p><pre _ngcontent-ng-c2974094693>        import { EffectsModule } from '@ngrx/effects';
import { PostEffects } from './state/post.effects';

@NgModule({
  imports: [
    // ... otros imports
    EffectsModule.forRoot([PostEffects]),
    StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production })
  ],
  // ... otros códigos
})
export class AppModule { }
    </pre><h2 _ngcontent-ng-c2974094693>Consumir el Estado en Componentes</h2><p _ngcontent-ng-c2974094693>Ahora, veamos cómo consumir el estado gestionado por NgRx en un componente.</p><h3 _ngcontent-ng-c2974094693>Modificar <code _ngcontent-ng-c2974094693>hola-mundo.component.ts</code></h3><pre _ngcontent-ng-c2974094693>        import { Store } from '@ngrx/store';
import { PostState } from './state/post.state';
import { cargarPosts } from './state/post.actions';
import { selectAllPosts, selectLoading, selectError } from './state/post.selectors';

export class HolaMundoComponent implements OnInit {
  datos: string[] = [];
  posts$: Observable&lt;any[]&gt;;
  loading$: Observable&lt;boolean&gt;;
  error$: Observable&lt;string | null&gt;;
  nuevoPost: any = { title: '', body: '' };
  formularioActualizar: FormGroup;

  constructor(
    private dataService: DataService,
    private apiService: ApiService,
    private store: Store&lt;{ postState: PostState }&gt;
  ) { 
    this.formularioActualizar = new FormGroup({
      title: new FormControl('', [Validators.required, Validators.minLength(5)]),
      body: new FormControl('', Validators.required)
    });

    this.posts$ = this.store.select(selectAllPosts);
    this.loading$ = this.store.select(selectLoading);
    this.error$ = this.store.select(selectError);
  }

  ngOnInit(): void {
    this.datos = this.dataService.obtenerDatos();
    this.store.dispatch(cargarPosts());
  }

  // ... otros métodos
}
    </pre><h3 _ngcontent-ng-c2974094693>Actualizar la Plantilla <code _ngcontent-ng-c2974094693>hola-mundo.component.html</code></h3><pre _ngcontent-ng-c2974094693>        &lt;h2&gt;{{ mensaje }}&lt;/h2&gt;
&lt;button (click)="cambiarMensaje('Has actualizado el mensaje!')"&gt;Cambiar Mensaje&lt;/button&gt;

&lt;input [(ngModel)]="nombre" placeholder="Escribe tu nombre"/&gt;
&lt;p&gt;Hola, {{ nombre }}!&lt;/p&gt;

&lt;h3&gt;Datos del Servicio:&lt;/h3&gt;
&lt;ul&gt;
  &lt;li *ngFor="let dato of datos"&gt;{{ dato }}&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Posts de la API con NgRx:&lt;/h3&gt;
&lt;div *ngIf="loading$ | async"&gt;
  &lt;p&gt;Cargando posts...&lt;/p&gt;
&lt;/div&gt;
&lt;div *ngIf="error$ | async as error"&gt;
  &lt;p&gt;Error: {{ error }}&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
  &lt;li *ngFor="let post of posts$ | async"&gt;
    &lt;strong&gt;{{ post.title }}&lt;/strong&gt;
    &lt;p&gt;{{ post.body }}&lt;/p&gt;
    &lt;button (click)="actualizarPost(post)"&gt;Actualizar Post&lt;/button&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Crear Nuevo Post (Template-Driven)&lt;/h3&gt;
&lt;form #postForm="ngForm" (ngSubmit)="crearNuevoPost()"&gt;
  &lt;div&gt;
    &lt;label for="title"&gt;Título:&lt;/label&gt;
    &lt;input type="text" id="title" name="title" [(ngModel)]="nuevoPost.title" required minlength="5" /&gt;
    &lt;div *ngIf="postForm.controls.title?.invalid &amp;&amp; (postForm.controls.title?.dirty || postForm.controls.title?.touched)"&gt;
      &lt;small&gt;El título es obligatorio y debe tener al menos 5 caracteres.&lt;/small&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label for="body"&gt;Contenido:&lt;/label&gt;
    &lt;textarea id="body" name="body" [(ngModel)]="nuevoPost.body" required&gt;&lt;/textarea&gt;
    &lt;div *ngIf="postForm.controls.body?.invalid &amp;&amp; (postForm.controls.body?.dirty || postForm.controls.body?.touched)"&gt;
      &lt;small&gt;El contenido es obligatorio.&lt;/small&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;button type="submit" [disabled]="!postForm.form.valid"&gt;Crear Post&lt;/button&gt;
&lt;/form&gt;
    </pre><p _ngcontent-ng-c2974094693>En este ejemplo, estamos utilizando Selectors para acceder al estado de posts, así como a los indicadores de carga y error. Esto permite una gestión más eficiente y centralizada del estado de la aplicación.</p><h2 _ngcontent-ng-c2974094693>Práctica Recomendada</h2><p _ngcontent-ng-c2974094693>Utiliza NgRx para manejar el estado de aplicaciones complejas donde múltiples componentes necesitan acceder y modificar datos compartidos. Esto garantiza una fuente única de verdad y facilita la trazabilidad de los cambios de estado.</p><h2 _ngcontent-ng-c2974094693>Próximos Pasos</h2><p _ngcontent-ng-c2974094693>Después de gestionar el estado con NgRx, el siguiente tema será el testing en Angular, donde aprenderás cómo realizar pruebas unitarias y de integración para asegurar la calidad de tu aplicación.</p></div></app-nivel3-1><!----><app-scroll-to-top _ngcontent-ng-c476121998 _nghost-ng-c3705416393 ngh="1"><!----></app-scroll-to-top><app-scroll-to-bottom _ngcontent-ng-c476121998 _nghost-ng-c331511147 ngh="2"><button _ngcontent-ng-c331511147 class="scroll-to-bottom" jsaction="click:;">↓</button><!----></app-scroll-to-bottom><app-previous-page _ngcontent-ng-c476121998 ngh="0"><button jsaction="click:;"> Anterior
</button></app-previous-page><app-home-button _ngcontent-ng-c476121998 ngh="0"><a routerlink routerlinkactive="active-link" href="/TerceraApp/" class="active-link" jsaction="click:;">HOME</a></app-home-button><app-next-page _ngcontent-ng-c476121998 ngh="0"><button jsaction="click:;"> Siguiente
</button></app-next-page></div><!----><!----><!----></div></app-root>
<script src="polyfills-FFHMD2TL.js" type="module"></script><script src="main-WOPUQPQD.js" type="module"></script>

<script id="ng-state" type="application/json">{"__nghData__":[{},{"t":{"0":"t1"},"c":{"0":[]}},{"t":{"0":"t2"},"c":{"0":[{"i":"t2","r":1}]}},{"t":{"1":"t0","2":"t3"},"c":{"1":[{"i":"t0","r":2,"e":{"0":1},"c":{"4":[{"i":"c2974094693","r":1}]}}],"2":[]}}]}</script></body></html>